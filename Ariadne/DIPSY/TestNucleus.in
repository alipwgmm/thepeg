mkdir /DIPSY
cd /DIPSY
library libArCascade.so
create DIPSY::DipoleEventHandler LHCEventHandler libDIPSY.so
set LHCEventHandler:PartonExtractor /Defaults/Handlers/StandardExtractor
create ThePEG::Cuts NoCuts
set LHCEventHandler:Cuts NoCuts
create DIPSY::ImpactParameterGenerator stdBGenerator
set stdBGenerator:Width 0.01
set LHCEventHandler:PartonExtractor /Defaults/Handlers/StandardExtractor
create ThePEG::Cuts NoCuts
set LHCEventHandler:Cuts NoCuts
set LHCEventHandler:BGen stdBGenerator
create DIPSY::SimpleProton stdProton
set stdProton:Particle /Defaults/Particles/p+
create DIPSY::SimpleNucleus Gold SimpleNucleus.so
create DIPSY::SimpleNucleus AntiGold SimpleNucleus.so
do Gold:SetNucleus Pb
do AntiGold:SetNucleus Pb
set Gold:WF stdProton
set AntiGold:WF stdProton
set Gold:Particle /Defaults/Particles/p+
set AntiGold:Particle /Defaults/Particles/pbar-
set /Defaults/Particles/p+:PDF /Defaults/Partons/NoPDF
set /Defaults/Particles/pbar-:PDF /Defaults/Partons/NoPDF
set /Defaults/Particles/n0:PDF /Defaults/Partons/NoPDF
create DIPSY::SimpleProton stdAntiProton
set stdAntiProton:Particle /Defaults/Particles/pbar-
set LHCEventHandler:WFL Gold
set LHCEventHandler:WFR AntiGold
#set LHCEventHandler:WFR stdAntiProton
set stdProton:R 0.1
set stdProton:R0 2.5
set stdProton:RapidityWidth 2.0
set stdProton:AngleWidth 0.1
set stdAntiProton:R 0.1
set stdAntiProton:R0 2.5
set stdAntiProton:RapidityWidth 2.0
set stdAntiProton:AngleWidth 0.1
set LHCEventHandler:PreSamples 0000
create DIPSY::TotalXSecAnalysis TotXSec
insert LHCEventHandler:AnalysisHandlers[0] TotXSec
create DIPSY::ElasticXSecAnalysis ElXSec ElasticXSecAnalysis.so
set ElXSec:NBins 100
set ElXSec:DeltaB 0.5
insert LHCEventHandler:AnalysisHandlers[0] ElXSec

#create DIPSY::PT1DEmitter pt1DEmitter PT1DEmitter.so
#create DIPSY::OldStyleEmitter oldEmitter OldStyleEmitter.so
create DIPSY::Emitter stdEmitter
set stdEmitter:RScale 1.0
set stdEmitter:PTScale 1.0
set stdEmitter:PSInflation 1.0
set stdEmitter:BothOrderedEvo False
set stdEmitter:BothOrderedInt False
set stdEmitter:BothOrderedFS False
set LHCEventHandler:Emitter stdEmitter
create DIPSY::Swinger stdSwinger
#create DIPSY::RecoilSwinger recSwinger RecoilSwinger.so
set stdSwinger:Lambda 1.0
set LHCEventHandler:Swinger stdSwinger
create DIPSY::SmallDipoleAbsorber stdAbsorber
# create DIPSY::LargePTDipoleAbsorber largePTAbsorber LargePTDipoleAbsorber.so
create DIPSY::EventFiller stdFiller
set stdFiller:DipoleAbsorber stdAbsorber
# set stdFiller:RecoilScheme FrameFan
set stdFiller:RecoilScheme PreservePlus
# set stdFiller:DipoleAbsorber largePTAbsorber
# set stdFiller:Mode Consistent
set stdFiller:Mode SingleSweep
# set stdFiller:Mode NonRecursive
# set stdFiller:Mode Fast
set stdFiller:EffectiveWeights PlusWeighted
#set stdFiller:EffectiveWeights PlusEvenWeighted
#set stdFiller:EffectiveWeights PlusSingleWeighted
set stdFiller:SingleMother 0
set stdFiller:FSSwingTime 1.0
set LHCEventHandler:EventFiller stdFiller
create DIPSY::DipoleXSec stdXSec
set stdXSec:Interaction 0
set LHCEventHandler:XSecFn stdXSec
create ThePEG::FixedCMSLuminosity LHCLumi
set LHCLumi:Energy 574000.0
set LHCEventHandler:LuminosityFunction LHCLumi
set LHCEventHandler:LambdaQCD 0.28
set LHCEventHandler:RMax 3.3
set LHCEventHandler:CoherenceRange 1.5
set LHCEventHandler:NF 3
set LHCEventHandler:YFrametest 0.5
set LHCEventHandler:NColours 9
set LHCEventHandler:ShowHistory 0
create ThePEG::LWHFactory HFac LWHFactory.so
set HFac:StoreType flat
set HFac:Suffix dat
create ThePEG::MultiEventGenerator LHCGenerator MultiEventGenerator.so
set LHCGenerator:RandomNumberGenerator /Defaults/Random
set LHCGenerator:StandardModelParameters /Defaults/StandardModel
set LHCGenerator:EventHandler LHCEventHandler
set LHCGenerator:NumberOfEvents 10
set LHCGenerator:PrintEvent 0
set LHCGenerator:DebugLevel 0
set LHCGenerator:HistogramFactory HFac
set LHCGenerator:DumpPeriod 1000
# insert LHCGenerator:DefaultObjects[0] stdEmitter
# insert LHCGenerator:DefaultObjects[0] oldStyleEmitter
# insert LHCGenerator:DefaultObjects[0] pt1DEmitter
# do LHCGenerator:AddInterface /DIPSY/LHCEventHandler:Emitter /DIPSY/stdEmitter, /DIPSY/oldStyleEmitter, /DIPSY/pt1DEmitter
# do LHCGenerator:AddInterface /DIPSY/LHCEventHandler:PreSamples 250, 1000, 4000, 16000
cp /Defaults/Particles/pi0 pi0
set pi0:Stable Stable
insert LHCGenerator:LocalParticles[0] pi0
set LHCEventHandler:DecayHandler /Defaults/Handlers/StandardDecayHandler
create TheP8I::StringFragmentation Frag8 libTheP8I.so
set LHCEventHandler:HadronizationHandler Frag8
set Frag8:StringZ_aLund 0.23
set Frag8:StringZ_bLund 0.34
set Frag8:StringPT_sigma 0.405
create Ariadne::CascadeHandler AriadneCascade libArCascade.so
set LHCEventHandler:CascadeHandler AriadneCascade
create DIPSY::FSDipoleOrdering FSOrdering libArCascade.so FSDipoleOrdering.so
insert AriadneCascade:Reweighters[0] FSOrdering
create DIPSY::FSAnalysis FSAnalysis FSAnalysis.so
insert LHCGenerator:AnalysisHandlers[0] FSAnalysis
saverun TestPbPb4 LHCGenerator
