cd /DIPSY

###############################################
# There is some problem with the quarks, it's running and spitting out a
# lot of error messages. needs to be looked into a bit.
# Could be that the output is still decent. Most events are ok.
################################################

set /Defaults/Particles/u:NominalMass 0.33
set /Defaults/Particles/d:NominalMass 0.33
set /Defaults/Particles/s:NominalMass 0.5
set /Defaults/Particles/c:NominalMass 1.5
set /Defaults/Particles/b:NominalMass 4.8

read CurrentTune.in
#read Tune30.in

#read RivetAnalyses.in

create ThePEG::ProgressLog Logger ProgressLog.so
set Logger:Interval 600
set HeraGenerator:NumberOfEvents 1000000
set HeraGenerator:PrintEvent 10
set HeraEventHandler:PreSamples 0
set HeraEventHandler:ConsistencyLevel Never
set HeraEventHandler:DecayHandler:MaxLifeTime 10
insert HeraGenerator:AnalysisHandlers[0] Logger
set HeraGenerator:MaxErrors 100000

create DIPSY::GapAnalysis GapAnalysis GapAnalysis.so
set HeraGenerator:AnalysisHandlers[1] GapAnalysis
get HeraGenerator:AnalysisHandlers

set HeraGenerator:EventHandler:EventFiller:PTCut 0.6

set HeraLumi:Energy 220.0
set virtualPhoton:Q2 14.0
set virtualPhoton:Polarisation Both
#set virtualPhoton:Polarisation Transverse
#set virtualPhoton:Polarisation Longitudinal

set HeraGenerator:RandomNumberGenerator:Seed 1

saverun Hera HeraGenerator
saverun Heradebug HeraGenerator

set HeraGenerator:EventHandler:YFrametest 0.3
saverun HeraFrame03 HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.7
saverun HeraFrame07 HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.1
saverun HeraFrame01 HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.9
saverun HeraFrame09 HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.95
saverun HeraFrame095 HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.0
saverun HeraFrame00 HeraGenerator
set HeraGenerator:EventHandler:YFrametest 1.0
saverun HeraFrame10 HeraGenerator

set stdFiller:FSSwingTime 0.6
set stdFiller:FSSwingTimeStep 0.2
set HeraGenerator:EventHandler:YFrametest 0.0
saverun HeraFrame00Swing HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.5
saverun HeraFrame05Swing HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.9
saverun HeraFrame09Swing HeraGenerator
set HeraGenerator:EventHandler:YFrametest 1.0
saverun HeraFrame10Swing HeraGenerator
set HeraGenerator:EventHandler:YFrametest 0.5
set HeraGenerator:EventHandler:Swinger:Lambda 0.001
set stdFiller:FSSwingTime 0.0
set stdFiller:FSSwingTimeStep 0.0
saverun HeraFrame05NoSwing HeraGenerator
