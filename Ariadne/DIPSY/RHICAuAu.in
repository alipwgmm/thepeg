cd /DIPSY

read Tune30.in
set stdEmitter:MinusOrderingMode EffectiveParton
set stdEmitter:PMinusOrdering 1.5
set stdProton:R0 2.7
set Proton:R0 2.7
set Neutron:R0 2.7
set stdAntiProton:R0 2.7
set AntiProton:R0 2.7
mset . DIPSY::DipoleEventHandler LambdaQCD 0.22

set /Defaults/Particles/u:NominalMass 0.33
set /Defaults/Particles/d:NominalMass 0.33
set /Defaults/Particles/s:NominalMass 0.5
set /Defaults/Particles/c:NominalMass 1.5
set /Defaults/Particles/b:NominalMass 4.8

erase RHICGenerator:AnalysisHandlers[0]

library  HIAnalysis.so
create DIPSY::HIAnalysis HIAna
create ThePEG::ProgressLog Logger ProgressLog.so
set Logger:Interval 600

set RHICGenerator:NumberOfEvents 100
set RHICEventHandler:PreSamples 0
set RHICEventHandler:ConsistencyLevel 0
set RHICEventHandler:DecayHandler:MaxLifeTime 10
set RHICEventHandler:BGen:Width 25
set RHICEventHandler:XSecFn:CheckOffShell false
insert RHICGenerator:AnalysisHandlers[0] Logger
insert RHICGenerator:AnalysisHandlers[0] HIAna
set RHICEventHandler:LuminosityFunction:Energy 39400
set RHICGenerator:EventHandler:EventFiller:PTCut 0.6
set RHICEventHandler:EventFiller:FSSwingTime 1.0
set RHICEventHandler:EventFiller:FSSwingTimeStep 0.1
set RHICEventHandler:EventFiller:SoftRemove All

saverun RHICAuAu RHICGenerator

set RHICEventHandler:EventFiller:FSSwingTime 0.0
saverun RHICAuAu0 RHICGenerator
set RHICEventHandler:EventFiller:FSSwingTime 1.0


create DIPSY::FixedImpactGenerator FixedB FixedImpactGenerator.so
set RHICEventHandler:BGen FixedB
set FixedB:MaxB 0.0
set FixedB:MinB 0.0
saverun RHICAuAuCC RHICGenerator
set FixedB:MaxB 3.2
saverun RHICAuAuC RHICGenerator
set RHICEventHandler:EventFiller:FSSwingTime 10.0
saverun RHICAuAuC10 RHICGenerator
set RHICEventHandler:EventFiller:FSSwingTime 0.0
saverun RHICAuAuC0 RHICGenerator
set stdSwinger:Lambda 2.0
saverun RHICAuAuC02 RHICGenerator
set stdSwinger:Lambda 5.0
saverun RHICAuAuC05 RHICGenerator
set stdSwinger:Lambda 20.0
saverun RHICAuAuC020 RHICGenerator
set stdSwinger:Lambda 100.0
saverun RHICAuAuC0100 RHICGenerator
set stdSwinger:Lambda 1.0

# New Final state swing
# With maximum energy scale
create Ariadne5::DipoleSwinger Swinger
set Swinger:Rmax 0.0
insert RHICGenerator:EventHandler:CascadeHandler:Emitters[0] Swinger
saverun RHICAuAuCNM1 RHICGenerator
set Swinger:Lambda 0.01
saverun RHICAuAuCNM001 RHICGenerator
set Swinger:Lambda 2
saverun RHICAuAuCNM2 RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCNM10 RHICGenerator
set Swinger:Lambda 50
saverun RHICAuAuCNM50 RHICGenerator
set Swinger:Lambda 100
saverun RHICAuAuCNM100 RHICGenerator
set Swinger:Lambda 1
do Swinger:SetRmax 2.7
saverun RHICAuAuCNM1R RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCNM10R RHICGenerator
set Swinger:Lambda 1
set Swinger:RhoCut 0.3
saverun RHICAuAuCNM1R3 RHICGenerator
set Swinger:SizeOpt -1
set Swinger:RhoCut 0.1
saverun RHICAuAuCNM1R1 RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCNM10R1 RHICGenerator
set Swinger:Lambda 1
set Swinger:RhoCut -1.0
set Swinger:SizeOpt 0
set Swinger:Rmax 0.0
set Swinger:Linear Linear
saverun RHICAuAuCNM1L RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCNM10L RHICGenerator
set Swinger:Lambda 1
set Swinger:Linear Logarithmic

set Swinger:SizeOpt 1
set Swinger:Lambda 1
saverun RHICAuAuCNMS1 RHICGenerator
do Swinger:SetRmax 2.7
saverun RHICAuAuCNMS1R RHICGenerator
set Swinger:RhoCut 0.1
saverun RHICAuAuCNMS1R1 RHICGenerator
set Swinger:RhoCut -1.0
set Swinger:Lambda 2
saverun RHICAuAuCNMS2R RHICGenerator
set Swinger:Lambda 20
saverun RHICAuAuCNMS20R RHICGenerator
set Swinger:Lambda 200
saverun RHICAuAuCNMS200R RHICGenerator
set Swinger:Lambda 1
set Swinger:Rmax 0.0
set Swinger:SizeOpt 0


# With maximum pt scale
create Ariadne5::MaxPTScale MaxPTScale MaxPTScale.so
set MaxPTScale:Strategy ActualPT
set RHICGenerator:EventHandler:CascadeHandler:ScaleSetter MaxPTScale
saverun RHICAuAuCN1 RHICGenerator
set Swinger:Lambda 2
saverun RHICAuAuCN2 RHICGenerator
set Swinger:Lambda 0.1
saverun RHICAuAuCN01 RHICGenerator
set Swinger:Lambda 5
saverun RHICAuAuCN5 RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCN10 RHICGenerator
set Swinger:Lambda 20
saverun RHICAuAuCN20 RHICGenerator
set Swinger:Lambda 50
saverun RHICAuAuCN50 RHICGenerator
set Swinger:Lambda 100
saverun RHICAuAuCN100 RHICGenerator
set Swinger:Lambda 200
saverun RHICAuAuCN200 RHICGenerator
set Swinger:Rmax 2.7
set Swinger:Lambda 1
saverun RHICAuAuCN1R RHICGenerator

set Swinger:SizeOpt 1
do Swinger:SetRmax 2.7
saverun RHICAuAuCNs1R RHICGenerator
set Swinger:Lambda 5
saverun RHICAuAuCNs5R RHICGenerator
set Swinger:Lambda 1
do Swinger:SetRmax -2.7
saverun RHICAuAuCNs1r RHICGenerator
set Swinger:Lambda 2
saverun RHICAuAuCNs2r RHICGenerator
set Swinger:Lambda 5
saverun RHICAuAuCNs5r RHICGenerator
set Swinger:StringMassCut 2
saverun RHICAuAuCNs5rC RHICGenerator
set Swinger:StringMassCut 0
set FSOrdering:HardSuppression SoftParameters
saverun RHICAuAuCNs5rH RHICGenerator
set FSOrdering:HardFudge 0.5
saverun RHICAuAuCNs5rh RHICGenerator
set FSOrdering:HardFudge 0.05
saverun RHICAuAuCNs5rh0 RHICGenerator
set FSOrdering:HardFudge 1.0
set FSOrdering:HardSuppression Off
set Swinger:Lambda 10
saverun RHICAuAuCNs10r RHICGenerator
set Swinger:Lambda 1
set Swinger:Linear Linear
saverun RHICAuAuCNs1rL RHICGenerator
set Swinger:Linear Logarithmic
set Swinger:Rmax 0.0
set Swinger:SizeOpt 0

set Swinger:Lambda 10
saverun RHICAuAuCN10R RHICGenerator
set Swinger:Lambda 20
saverun RHICAuAuCN20R RHICGenerator
set Swinger:Linear Linear
set Swinger:Lambda 1
saverun RHICAuAuCN1L RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCN10L RHICGenerator
set Swinger:Lambda 100
saverun RHICAuAuCN100L RHICGenerator
set Swinger:Linear Logarithmic
set Swinger:Rmax 0.0
set Swinger:Lambda 1

# With scalar sum pt scale
set MaxPTScale:Strategy ScalarSum
saverun RHICAuAuCNS1 RHICGenerator
set Swinger:SizeOpt 1
do Swinger:SetRmax 2.7
saverun RHICAuAuCNSs1R RHICGenerator
do Swinger:SetRmax 6.1
saverun RHICAuAuCNSs1Rr RHICGenerator
do Swinger:SetRmax -2.7
set RHICGenerator:PrintEvent 2
set RHICEventHandler:HadronizationHandler:Collapser /Ariadne5/Defaults/Collapser
# set RHICEventHandler:HadronizationHandler NULL
saverun RHICAuAuCNSs1r RHICGenerator
set RHICEventHandler:EventFiller:SoftRemove NoValence
set RHICGenerator:EventHandler:WFL Gold197
set RHICGenerator:EventHandler:WFR Gold197
set RHICGenerator:EventHandler:CascadeHandler:PurgeStrategy BeforeAndAfter
set RHICGenerator:EventHandler:CascadeHandler:PurgeFactor 1.0
saverun RHICAuAunewCNSs1r RHICGenerator
set RHICEventHandler:EventFiller:SoftRemove Off
saverun RHICAuAuNewCNSs1r RHICGenerator
saverun RHICAuAuNEWCNSs1r RHICGenerator
set RHICEventHandler:EventFiller:SoftRemove NoValence
set Proton:RemnantDecayer NULL
set Neutron:RemnantDecayer NULL
saverun RHICAuAuoldCNSs1r RHICGenerator
set RHICEventHandler:EventFiller:SoftRemove All
set Gold197:WFP NULL
set Gold197:WFN NULL
set RHICGenerator:EventHandler:CascadeHandler:PurgeStrategy Never
saverun RHICAuAuOldCNSs1r RHICGenerator
saverun RHICAuAuOLDCNSs1r RHICGenerator
set Proton:RemnantDecayer /Defaults/Partons/BaryonRemnantDecayer
set Neutron:RemnantDecayer /Defaults/Partons/BaryonRemnantDecayer
set RHICGenerator:EventHandler:WFL AntiGold
set RHICGenerator:EventHandler:WFR Gold


set Swinger:Lambda 5
saverun RHICAuAuCNSs5r RHICGenerator
set Swinger:Lambda 1
set Swinger:Rmax 0.0
set Swinger:SizeOpt 0
set Swinger:Lambda 2
saverun RHICAuAuCNS2 RHICGenerator
set Swinger:Lambda 10
saverun RHICAuAuCNS10 RHICGenerator
set Swinger:Rmax 2.7
set Swinger:Linear Linear
saverun RHICAuAuCNS10L RHICGenerator
set Swinger:Lambda 100
saverun RHICAuAuCNS100L RHICGenerator


