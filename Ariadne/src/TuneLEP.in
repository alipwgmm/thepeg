mkdir /Ariadne5/SimpleLEP
cd /Ariadne5/SimpleLEP
cp /Ariadne5/Generators/LEP/LEPGenerator SimpleLEPGenerator
set SimpleLEPGenerator:NumberOfEvents 100000
set SimpleLEPGenerator:DebugLevel 1
set SimpleLEPGenerator:PrintEvent 10
create ThePEG::RivetAnalysis RivetLEP RivetAnalysis.so
insert RivetLEP:Analyses[0] DELPHI_1995_S3137023
insert RivetLEP:Analyses[0] DELPHI_1996_S3430090
insert RivetLEP:Analyses[0] OPAL_2001_S4553896
insert RivetLEP:Analyses[0] OPAL_2004_S6132243
insert RivetLEP:Analyses[0] ALEPH_1991_S2435284
insert RivetLEP:Analyses[0] ALEPH_1996_S3486095
insert RivetLEP:Analyses[0] ALEPH_2004_S5765862
insert SimpleLEPGenerator:AnalysisHandlers[0] RivetLEP

set /Ariadne5/Particles/pi0:Stable Unstable

saverun TuneLEP SimpleLEPGenerator

set SimpleLEPGenerator:EventHandler:CascadeHandler:PurgeStrategy BeforeAndAfter
set SimpleLEPGenerator:EventHandler:CascadeHandler:PurgeFactor 1.0
saverun TuneLEPpurge SimpleLEPGenerator
# not much

set SimpleLEPGenerator:EventHandler:CascadeHandler:PurgeFactor 0.5
saverun TuneLEPpurge2 SimpleLEPGenerator
# not much

create Ariadne5::DipoleSwinger Swinger
do Swinger:SetRmax -2.7
set Swinger:SizeOpt 1
set Swinger:Lambda 1
set Swinger:Linear Logarithmic
set Swinger:RhoCut -1.0
insert SimpleLEPGenerator:EventHandler:CascadeHandler:Emitters[0] Swinger
saverun TuneLEPpurge2sw SimpleLEPGenerator
# The swing increases the hardness and decreases the multiplicity

set SimpleLEPGenerator:EventHandler:CascadeHandler:PurgeFactor 1.0
saverun TuneLEPpurgesw SimpleLEPGenerator

set /Ariadne5/Cascade/BasicConsistency:CheckGluonPT Off
saverun TuneLEPpurgesw2 SimpleLEPGenerator
set /Ariadne5/Cascade/BasicConsistency:CheckGluonPT On

set SimpleLEPGenerator:EventHandler:CascadeHandler:PurgeStrategy Never
saverun TuneLEPsw SimpleLEPGenerator

erase SimpleLEPGenerator:EventHandler:CascadeHandler:Emitters[0]

set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_aLund 0.28
saverun TuneLEPaup SimpleLEPGenerator
# increases Nch 1%
# decreases small y23 and y34
# decreases 2 and 3 jet fractions at small ycut
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_aLund 0.23
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_bLund 0.41
saverun TuneLEPbup SimpleLEPGenerator
# decrease Nch 2%
# increase medium-large ptin
# decrease small xp
# increase large xp
# increases small y23 and y34
# increases 2 and 3 jet fractions at small ycut
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_bLund 0.34
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringPT_sigma 0.5
saverun TuneLEPsup SimpleLEPGenerator
# decrease Nch 5%
# increase medium ptin
# increase medium-large ptout
# decrease small xp
# increase large xp
# increase <pt> and <ptout>
# decreases small y23 and y34
# decreases 2 and 3 jet fractions at small ycut
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringPT_sigma 0.405
set SimpleLEPGenerator:EventHandler:CascadeHandler:PTCut 0.75
saverun TuneLEPcup SimpleLEPGenerator
set SimpleLEPGenerator:EventHandler:CascadeHandler:PTCut 0.6
# decreases Nch 1%
set SimpleLEPGenerator:EventHandler:CascadeHandler:LambdaQCD 0.25
saverun TuneLEPlup SimpleLEPGenerator
# increases Nch 1%
set SimpleLEPGenerator:EventHandler:CascadeHandler:LambdaQCD 0.22
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_aLund 0.3
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_bLund 0.8
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringPT_sigma 0.304
saverun TuneLEPpyt SimpleLEPGenerator
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_aLund 0.23
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_bLund 0.34
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringPT_sigma 0.405

erase /Ariadne5/Cascade/Models/FSGluon:Reweighters[0]
set /Ariadne5/Cascade/BasicConsistency:CheckGluonPT Off

set /Defaults/Particles/u:NominalMass 0.33
set /Defaults/Particles/d:NominalMass 0.33
set /Defaults/Particles/s:NominalMass 0.5
set /Defaults/Particles/c:NominalMass 1.5
set /Defaults/Particles/b:NominalMass 4.8
saverun TuneLEP4 SimpleLEPGenerator
saverun TuneLEP4b SimpleLEPGenerator
saverun TuneLEP4c SimpleLEPGenerator

set /Defaults/Particles/u:NominalMass 0.0056
set /Defaults/Particles/d:NominalMass 0.0099
set /Defaults/Particles/s:NominalMass 0.199
set /Defaults/Particles/c:NominalMass 1.23
set /Defaults/Particles/b:NominalMass 4.17
saverun TuneLEP5 SimpleLEPGenerator
saverun TuneLEP5b SimpleLEPGenerator
saverun TuneLEP5c SimpleLEPGenerator

insert /Ariadne5/Cascade/Models/FSGluon:Reweighters[0] /Ariadne5/Cascade/Models/ColourChargeRegions
saverun TuneLEP6 SimpleLEPGenerator

set /Ariadne5/Cascade/BasicConsistency:CheckGluonPT On
saverun TuneLEP7 SimpleLEPGenerator

set /Ariadne5/Particles/pi0:Stable Stable
saverun TuneLEP11 SimpleLEPGenerator
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_aLund 0.108
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringZ_bLund 0.2
set SimpleLEPGenerator:EventHandler:HadronizationHandler:StringPT_sigma 0.358
saverun TuneLEP8 SimpleLEPGenerator
set /Ariadne5/Cascade/BasicConsistency:CheckGluonPT Off
saverun TuneLEP9 SimpleLEPGenerator
erase /Ariadne5/Cascade/Models/FSGluon:Reweighters[0]
saverun TuneLEP10 SimpleLEPGenerator
