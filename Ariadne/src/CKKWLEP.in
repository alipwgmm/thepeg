mkdir /CKKWLEP
cd /CKKWLEP
library MadGraphReader.so

create ThePEG::MadGraphTwoCut mmjj
set mmjj:CutType InvariantMass
set mmjj:PairType JetJet
set mmjj:Cut 10
create ThePEG::MadGraphTwoCut mmjb
set mmjb:CutType InvariantMass
set mmjb:PairType JetBottom
set mmjb:Cut 10
create ThePEG::MadGraphTwoCut mmbb
set mmbb:CutType InvariantMass
set mmbb:PairType BottomPairs
set mmbb:Cut 10
create ThePEG::Cuts LEPCuts
insert LEPCuts:TwoCuts[0] mmjj
insert LEPCuts:TwoCuts[0] mmjb
insert LEPCuts:TwoCuts[0] mmbb

create ThePEG::MadGraphReader 2jet
set 2jet:InitCuts false
set 2jet:Cuts LEPCuts
set 2jet:MaxMultCKKW 4
set 2jet:MinMultCKKW 2
cp 2jet 3jet
cp 2jet 4jet

set 2jet:FileName MadGraph_LEP/2jet.lhe.gz
set 3jet:FileName MadGraph_LEP/3jet.lhe.gz
set 4jet:FileName MadGraph_LEP/4jet.lhe.gz

cp /LesHouches/LesHouchesHandler LesHouchesHandler
set LesHouchesHandler:WeightOption VarWeight

insert LesHouchesHandler:LesHouchesReaders[0] 2jet
insert LesHouchesHandler:LesHouchesReaders[0] 3jet
insert LesHouchesHandler:LesHouchesReaders[0] 4jet

set /Defaults/Particles/u:NominalMass 0.33
set /Defaults/Particles/d:NominalMass 0.33
set /Defaults/Particles/s:NominalMass 0.5
set /Defaults/Particles/c:NominalMass 1.5
set /Defaults/Particles/b:NominalMass 4.8

set LesHouchesHandler:StatLevel 2

create Ariadne::CascadeHandler AriadneCascade
set LesHouchesHandler:CascadeHandler AriadneCascade

set /Pythia7/Handlers/StringFrag/StdFragHandler:ZGenerator:a 0.23
set /Pythia7/Handlers/StringFrag/StdFragHandler:ZGenerator:b 0.34
set /Pythia7/Handlers/StringFrag/StdFragHandler:PtGenerator:sigma 0.405
set LesHouchesHandler:HadronizationHandler /Pythia7/Handlers/StringFrag/StdFragHandler
set LesHouchesHandler:DecayHandler /Defaults/Handlers/StandardDecayHandler

cp /LesHouches/LesHouchesGenerator LesHouchesGenerator
cp /Defaults/Generators/DefaultStrategy DefaultStrategy
set LesHouchesGenerator:Strategy DefaultStrategy
set LesHouchesGenerator:EventHandler LesHouchesHandler

create ThePEG::LWHFactory HFac LWHFactory.so
set LesHouchesGenerator:HistogramFactory HFac

create ThePEG::LEPEventShapes LEPEventShapes LEPEventShapes.so
insert LesHouchesGenerator:AnalysisHandlers[0] LEPEventShapes 
create ThePEG::EventShapes EventShapes
set LEPEventShapes:EventShapes EventShapes

create ThePEG::MultiplicityCount MultiplicityCount MultiplicityCount.so
insert LesHouchesGenerator:AnalysisHandlers[0]  MultiplicityCount

set LesHouchesGenerator:NumberOfEvents 1000
set LesHouchesGenerator:DebugLevel 1
set LesHouchesGenerator:PrintEvent 10
saverun CKKWLEP LesHouchesGenerator
