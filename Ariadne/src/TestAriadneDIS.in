mkdir HERADIS
cd HERADIS
create ThePEG::StandardEventHandler DISEH

create TheP8I::StringFragmentation Frag8 libTheP8I.so

create ThePEG::LuminosityFunction HERALumi
set HERALumi:BeamEMaxA 820
set HERALumi:BeamEMaxB 27.5
set DISEH:LuminosityFunction HERALumi

cp /Defaults/Handlers/ACDCSampler ACDC
set DISEH:Sampler ACDC

create ThePEG::Cuts DISCuts
create ThePEG::SimpleDISCut Q2Cut SimpleDISCut.so
set Q2Cut:MinQ2 4.0
set Q2Cut:MaxQ2 10000000.0
set Q2Cut:MinW2 4400.0
set Q2Cut:Current Neutral
set DISCuts:X1Min 0.0001
set DISCuts:X1Max 0.02
set DISCuts:ScaleMin 4.0
insert DISCuts:TwoCuts[0] Q2Cut
set DISEH:Cuts DISCuts

create ThePEG::SubProcessHandler DISSub
create ThePEG::MENCDIS DISME MENCDIS.so
insert DISSub:MatrixElements[0] DISME
cp /Defaults/Handlers/StandardExtractor DISExtractor
set DISExtractor:FlatSHatY 0
set DISSub:PartonExtractor DISExtractor
insert DISEH:SubProcessHandlers[0] DISSub
set /Ariadne/AriadneCascade:NFlav 5
set /Ariadne/AriadneCascade:Beta 2.0
set /Ariadne/AriadneCascade:SoftMu 0.6
#set /Ariadne/AriadneCascade:SoftAlpha 0.5
#set /Ariadne/AriadneCascade:MaxEmissions 1

#set /Defaults/Particles/u:NominalMass 0.33
#set /Defaults/Particles/d:NominalMass 0.33
#set /Defaults/Particles/s:NominalMass 0.5
#set /Defaults/Particles/c:NominalMass 1.5
#set /Defaults/Particles/b:NominalMass 4.8

create ThePEG::SoftRemnantHandler RemnantHandler
create ThePEG::SimpleBaryonRemnantDecayer RemnantDecayer
set RemnantDecayer:RespectDISKinematics Yes
create ThePEG::GaussianPtGenerator GaussianPt
set RemnantDecayer:PTGenerator GaussianPt
set GaussianPt:Sigma 0.6
set RemnantHandler:RemnantDecayer RemnantDecayer
create ThePEG::LHAPDF CTEQ6l
set CTEQ6l:RemnantHandler RemnantHandler
set CTEQ6l:PDFName cteq6l.LHpdf
set CTEQ6l:RangeException Freeze
cp /Defaults/Particles/p+ p+
set p+:PDF CTEQ6l
set pbar-:PDF CTEQ6l
insert /Ariadne/StdStrategy:LocalParticles[0] p+
insert /Ariadne/StdStrategy:LocalParticles[0] pbar-
set DISEH:BeamA p+
set DISEH:BeamB /Defaults/Particles/e-
# set /Defaults/Particles/e-:PDF /Defaults/Partons/NoPDF
set DISEH:CascadeHandler /Ariadne/AriadneCascade
# set DISEH:HadronizationHandler /Pythia7/Handlers/StringFrag/StdFragHandler
set DISEH:HadronizationHandler Frag8
set Frag8:Collapser /Pythia7/Handlers/StringFrag/StdFragHandler:ClusterCollapser
set DISEH:DecayHandler /Pythia7/Handlers/Decay/StdDecay

create ThePEG::EventGenerator DISGen
cp /Defaults/Random Random
set DISGen:RandomNumberGenerator Random
cp /Defaults/StandardModel StandardModel
set DISGen:StandardModelParameters StandardModel
set DISGen:EventHandler DISEH
set DISGen:Strategy /Ariadne/StdStrategy
set DISGen:NumberOfEvents 10000
set DISGen:DebugLevel 1
set DISGen:PrintEvent 10

create Ariadne::DISAnalysis DISAnalysis DISAnalysis.so
create ThePEG::LWHFactory HFac LWHFactory.so
#set HFac:StoreType flat
#set HFac:Suffix dat
insert DISGen:AnalysisHandlers[0] DISAnalysis
set DISGen:HistogramFactory HFac

create ThePEG::HZTool HZTool HZTool.so
insert HZTool:Functions[0] hz95108
insert HZTool:Functions[0] hz96215
insert HZTool:Functions[0] hz98076
insert HZTool:Functions[0] hz98050
insert HZTool:Functions[0] hz98051
insert HZTool:Functions[0] hz98143
# insert DISGen:AnalysisHandlers[0] HZTool

saverun TestAriadneDIS DISGen
