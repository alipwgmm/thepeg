mkdir LesHouches
cd LesHouches
library LesHouches.so
library MadGraphReader.so

cp /Defaults/Generators/DefaultStrategy DefaultStrategy
cp /Defaults/Particles/p+ p+
cp /Defaults/Partons/GRV94L GRV94L
set p+:PDF GRV94L
insert DefaultStrategy:LocalParticles[0] p+

create ThePEG::MadGraphReader Reader2
set Reader2:FileName weights.lhe.gz
set Reader2:CacheFileName dummy.dat
set Reader2:PDFA GRV94L
set Reader2:PDFB GRV94L

create ThePEG::LesHouchesEventHandler LHHandler
insert LHHandler:LesHouchesReaders[0] Reader2
cp /Defaults/Handlers/StandardExtractor QCDExtractor
set LHHandler:PartonExtractor QCDExtractor
set LHHandler:StatLevel 2
set LHHandler:Cuts /Pythia7/Handlers/Cuts/QCDCuts
set LHHandler:WeightOption VarWeight

create ThePEG::EventGenerator VBFNLO
set VBFNLO:EventHandler LHHandler
cp /Defaults/Random StdRandom
cp /Defaults/StandardModel StandardModel
cp /Defaults/AlphaS O1AlphaS
set StandardModel:QCD/RunningAlphaS O1AlphaS
set O1AlphaS:LambdaFlav 4
set O1AlphaS:LambdaQCD 0.2322
cp /Defaults/AlphaEM AlphaEM
set StandardModel:EW/RunningAlphaEM AlphaEM
cp /Defaults/CKM CKM
set StandardModel:EW/CKM CKM
set VBFNLO:RandomNumberGenerator StdRandom
set VBFNLO:StandardModelParameters StandardModel
set VBFNLO:Strategy DefaultStrategy
set VBFNLO:NumberOfEvents 10000
set VBFNLO:DebugLevel 1
set VBFNLO:PrintEvent 10
saverun VBFNLO VBFNLO
