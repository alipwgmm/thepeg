mkdir LesHouches
cd LesHouches
library LesHouches.so
library MadGraphReader.so

cp /Defaults/Generators/DefaultStrategy DefaultStrategy
cp /Defaults/Particles/p+ p+
cp /LHAPDF/CTEQ6ll LHA10042
set LHA10042:PDFNumber 10042
set p+:PDF LHA10042
set pbar-:PDF LHA10042
insert DefaultStrategy:LocalParticles[0] p+
insert DefaultStrategy:LocalParticles[0] pbar-

create ThePEG::MadGraphReader pp2tt
set pp2tt:FileName /tmp/events.lhe.gz

do pp2tt:ScanCuts
set pp2tt:InitPDFs true
# set pp2tt:MaxScan 10
set pp2tt/ExtractedCuts:MHatMin 1
#set pp2tt:CacheFileName /tmp/cacheevents.gz

create ThePEG::LesHouchesEventHandler PP2tt
insert PP2tt:LesHouchesReaders[0] pp2tt
cp /Defaults/Handlers/StandardExtractor QCDExtractor
set PP2tt:PartonExtractor QCDExtractor
set PP2tt:StatLevel 2

create ThePEG::EventGenerator UnitTest
set UnitTest:EventHandler PP2tt
cp /Defaults/Random StdRandom
cp /Defaults/StandardModel StandardModel
cp /Defaults/AlphaS O1AlphaS
set StandardModel:QCD/RunningAlphaS O1AlphaS
set O1AlphaS:LambdaFlav 4
set O1AlphaS:LambdaQCD 0.2322
cp /Defaults/AlphaEM AlphaEM
set StandardModel:EW/RunningAlphaEM AlphaEM
cp /Defaults/CKM CKM
set StandardModel:EW/CKM CKM
set UnitTest:RandomNumberGenerator StdRandom
set UnitTest:StandardModelParameters StandardModel
set UnitTest:Strategy DefaultStrategy
set UnitTest:NumberOfEvents 100
set UnitTest:DebugLevel 1
set UnitTest:PrintEvent 10
saverun UnitTest UnitTest
